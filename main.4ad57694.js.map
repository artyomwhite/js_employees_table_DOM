{"version":3,"sources":["scripts/main.js"],"names":["panel","document","createElement","place","querySelector","pushNotification","posTop","posRight","title","description","type","mesage","className","dataset","qa","style","top","right","innerHTML","append","setTimeout","hidden","checkData","formData","name","length","position","age","action","method","listValue","convertCurrencyToNumber","value","slice","split","join","sortList","list","index","sortMethod","result","children","sort","a","b","valueA","innerText","valueB","value1","value2","localeCompare","addEventListener","e","preventDefault","data","Object","fromEntries","FormData","entries","newRow","valueSalary","Number","salary","toLocaleString","office","reset","tableHeaders","k","tableFooter","i","findIndex","element","target","contains","hasAttribute","removeAttribute","status","tableBody","classList","remove","parentElement","memory","plaseText","cloneNode","input","ev","key"],"mappings":"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","file":"main.4ad57694.js","sourceRoot":"..\\src","sourcesContent":["'use strict';\n\nconst panel = document.createElement('form');\nconst place = document.querySelector('body');\n\npanel.className = 'new-employee-form';\npanel.action = '#';\npanel.method = 'post';\n\npanel.innerHTML = `\n  <label>Name: <input data-qa=\"name\" name=\"name\" type=\"text\"></label>\n  <label>Position: <input\n    data-qa=\"position\" name=\"position\" type=\"text\"></label>\n  <label>Office: <select data-qa=\"office\" name=\"office\">\n    <option>Tokyo</option>\n    <option>Singapore</option>\n    <option>London</option>\n    <option>New York</option>\n    <option>Edinburgh</option>\n    <option>San Francisco</option>\n    </select>\n  </label>\n  <label>Age: <input\n    data-qa=\"age\" name=\"age\" type=\"number\"></label>\n  <label>Salary: <input data-qa=\"salary\" name=\"salary\" type=\"number\"></label>\n  <button type=\"submit\">Save to table</button>\n`;\n\nplace.append(panel);\n\nfunction pushNotification(posTop, posRight, title, description, type = '') {\n  const mesage = document.createElement('div');\n\n  mesage.className = `notification ${type}`;\n  mesage.dataset.qa = 'notification';\n  mesage.style.top = `${posTop}px`;\n  mesage.style.right = `${posRight}px`;\n\n  mesage.innerHTML = `\n    <h2 class=\"title\">${title}</h2>\n    <p>${description}</p>\n  `;\n\n  place.append(mesage);\n\n  setTimeout(() => {\n    mesage.hidden = true;\n  }, 2000);\n}\n\nfunction checkData(formData) {\n  if (formData.name.length < 4) {\n    pushNotification(500, 10, 'Error!',\n      `Something went wrong!<br> `\n      + `Name field cannot be empty! Or less then 4 letters!`, 'error');\n\n    return false;\n  }\n\n  if (!formData.position) {\n    pushNotification(500, 10, 'Error!',\n      `Something went wrong!<br> `\n      + `Position field cannot be empty!`, 'error');\n\n    return false;\n  }\n\n  if (+formData.age < 18 || +formData.age > 90) {\n    pushNotification(500, 10, 'Error!',\n      `Something went wrong!<br> `\n      + `Age must be more 18 & less 90`, 'error');\n\n    return false;\n  }\n\n  return true;\n}\n\nconst listValue = document.querySelector('tbody');\n\npanel.addEventListener('submit', e => {\n  e.preventDefault();\n\n  const data = Object.fromEntries(new FormData(panel).entries());\n\n  const newRow = document.createElement('tr');\n\n  const valueSalary = Number(data.salary).toLocaleString('en-US');\n\n  newRow.innerHTML = `\n    <td>${data.name}</td>\n    <td>${data.position}</td>\n    <td>${data.office}</td>\n    <td>${data.age}</td>\n    <td>${'$' + valueSalary}</td>\n  `;\n\n  if (checkData(data) === true) {\n    pushNotification(500, 10, 'Success!',\n      'Good!\\n '\n    + 'Employee has been added!', 'success');\n\n    listValue.append(newRow);\n    panel.reset();\n  } else {\n    checkData(data);\n  }\n});\n\nfunction convertCurrencyToNumber(value) {\n  return +value.slice(1).split(',').join('');\n}\n\nfunction sortList(list, index, sortMethod) {\n  const result = [...list.children].sort((a, b) => {\n    if (index === 4) {\n      const valueA = convertCurrencyToNumber(a.children[index].innerText);\n      const valueB = convertCurrencyToNumber(b.children[index].innerText);\n\n      if (sortMethod === 'down') {\n        return valueB - valueA;\n      }\n\n      return valueA - valueB;\n    }\n\n    const value1 = a.children[index].innerText;\n    const value2 = b.children[index].innerText;\n\n    if (sortMethod === 'down') {\n      return value2.localeCompare(value1);\n    }\n\n    return value1.localeCompare(value2);\n  });\n\n  list.append(...result);\n}\n\naddEventListener('click', e => {\n  const tableHeaders = document.querySelector('thead').children[0].children;\n  const tableFooter = document.querySelector('tfoot');\n  const i = [...tableHeaders].findIndex(\n    element => element.innerText === e.target.innerText\n    && !tableFooter.contains(e.target));\n\n  let k;\n\n  if (i === -1) {\n    return;\n  }\n\n  for (const element of tableHeaders) {\n    if (element.hasAttribute('data-status') && element !== tableHeaders[i]) {\n      element.removeAttribute('data-status');\n    }\n  }\n\n  if (tableHeaders[i].dataset.status === 'on') {\n    tableHeaders[i].dataset.status = 'off';\n\n    k = 'down';\n  } else {\n    tableHeaders[i].dataset.status = 'on';\n\n    k = 'up';\n  }\n\n  const tableBody = document.querySelector('tbody');\n\n  sortList(tableBody, i, k);\n});\n\naddEventListener('click', e => {\n  const tableBody = document.querySelector('tbody');\n\n  if (!tableBody.contains(e.target)) {\n    return;\n  };\n\n  for (const element of tableBody.children) {\n    if (element.classList.contains('active')) {\n      element.classList.remove('active');\n    }\n  }\n\n  e.target.parentElement.className = 'active';\n});\n\nlet memory = null;\n\naddEventListener('dblclick', e => {\n  const tableBody = document.querySelector('tbody');\n\n  if (!tableBody.contains(e.target)) {\n    return;\n  };\n\n  if (document.querySelector('.cell-input')) {\n    document.querySelector('.cell-input')\n      .parentElement.innerText = memory.innerText;\n  }\n\n  const i = [...e.target.parentElement.children].findIndex(\n    element => element === e.target);\n\n  const plaseText = e.target;\n\n  memory = e.target.cloneNode(true);\n\n  plaseText.innerHTML = `<input\n    class=\"cell-input\" name=\"data\" type=\"text\" value=\"\">`;\n\n  if (i > 2) {\n    plaseText.innerHTML = `<input\n      class=\"cell-input\" name=\"data\" type=\"number\" value=\"\">`;\n  }\n\n  const input = document.querySelector('.cell-input');\n\n  input.addEventListener('keypress', ev => {\n    if (ev.key !== 'Enter') {\n      return;\n    };\n\n    if (ev.target.value.length === 0) {\n      plaseText.innerText = memory.innerText;\n    }\n\n    if (i === 0 && ev.target.value.length < 4) {\n      input.reset();\n\n      return;\n    };\n\n    if (i === 3\n        && (Number(ev.target.value) < 18 || Number(ev.target.value) > 90)) {\n      input.reset();\n\n      return;\n    };\n\n    plaseText.innerText = ev.target.value;\n\n    if (i === 4) {\n      const valueSalary = Number(ev.target.value).toLocaleString('en-US');\n\n      plaseText.innerText = `$${valueSalary}`;\n    }\n  });\n});\n"]}